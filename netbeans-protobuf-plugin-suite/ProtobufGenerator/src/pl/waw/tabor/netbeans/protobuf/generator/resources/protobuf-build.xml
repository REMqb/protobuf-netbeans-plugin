<?xml version="1.0" encoding="UTF-8"?>
<!--
  *** GENERATED FROM protobuf_cfg.xml - DO NOT EDIT  ***
-->
<project name="JavaApplication5_protobuf" default="default" basedir=".">

    <target name="protobuf-environment">
        <echo message="user.properties.file:${user.properties.file}"/>
        <dirname property="user.properties.dir" file="${user.properties.file}"/>
        <echo message="user.properties.dir:${user.properties.dir}"/>
         <!--propertyregex property="pack.name"
              input="package.ABC.name"
              regexp="package\.([^\.]*)\.name"
              select="\1"
              casesensitive="false" /-->


        <property file="${user.properties.dir}/config/Preferences/pl/waw/tabor/netbeans/protobuf/generator.properties"/>
        <!--condition property="protoc_executable" value="${protobuf.executable}" else="protoc">
               <isset property="pl.waw.tabor.netbeans.protobuf.generator.protoc_path"/>
        </condition-->
        <property name="protobuf.executable" value="protoc"/><!-- If undefined in the file above, or the file does not exist-->

        <property name="build.generated.sources.dir.protobuf.java" value="${build.generated.sources.dir}/protobuf"/>
    </target>   

    <target name="protobuf-code-generation" depends="-do-init,-init-macrodef-javac,protobuf-environment">
          <fileset dir="${src.dir}" id="proto.classpath">
            <include name="**/*.proto"/>
          </fileset>
          <pathconvert property="protofiles" pathsep=" " refid="proto.classpath" />

           <mkdir dir="${build.generated.sources.dir.protobuf.java}"/>
          <echo message="${protobuf.executable} -I ${basedir} --java_out=${build.generated.sources.dir.protobuf.java} ${protofiles}"/>
          <exec dir="" executable="${protobuf.executable}" searchpath="true"><!--${pl.waw.tabor.netbeans.protobuf.generator.protoc_path}"-->
              <arg line="-I ${basedir}"/>
              <arg line="--java_out=${build.generated.sources.dir.protobuf.java}"/>
              <arg line="${protofiles}"/>
          </exec>
    </target>
</project>